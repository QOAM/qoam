@using QOAM.Core
@using QOAM.Website.Helpers
@model QOAM.Website.ViewModels.Journals.ScoresViewModel

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Reviewer</th>
            <th>Date</th>
            <th>@QuestionCategory.Governance.GetName()</th>
            <th>@QuestionCategory.EditorialInformation.GetName()</th>
            <th>@QuestionCategory.Process.GetName()</th>
            <th>@QuestionCategory.PeerReview.GetName()</th>
            <th>@QuestionCategory.Valuation.GetName()</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="@Model.Id-scorecards">
        @{ Html.RenderPartial("ScoresRows", Model); }
    </tbody>
    <tfoot id="@Model.Id-loadMoreScoreCards">
        @if (Model.ScoreCards.HasNextPage)
        {
            <tr>
                <td colspan="9">
                    @Ajax.ActionLink("Load more", "Scores", new { Model.Id, Page = Model.Page + 1 }, new AjaxOptions { UpdateTargetId = Model.Id + "-scorecards", InsertionMode = InsertionMode.InsertAfter, OnSuccess = string.Format("afterLoadMore(data, '{0}-loadMoreScoreCards', '{0}-loadMoreScoreCardsLink')", Model.Id) }, new { id = Model.Id + "-loadMoreScoreCardsLink" })
                </td>
            </tr>
        }
    </tfoot>
</table>

<p>
    @Html.Raw(string.Format("Only members of the academic community may publish a JSC. See FAQ <a href=\"{0}\" title=\"Is QOAM prone to improper use?\">\"Is QOAM prone to improper use?\"</a>", Url.Action("Faq", "Home") + "#framing"))
</p>