@using RU.Uci.OAMarket.Domain
@using RU.Uci.OAMarket.Website.Helpers
@using RU.Uci.OAMarket.Website.Resources
@using Strings = RU.Uci.OAMarket.Website.Resources.Strings
@model RU.Uci.OAMarket.Website.ViewModels.Journals.ScoresViewModel

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>@Strings.Reviewer</th>
            <th>@Strings.Date</th>
            <th>@QuestionCategory.Governance.GetName()</th>
            <th>@QuestionCategory.EditorialInformation.GetName()</th>
            <th>@QuestionCategory.Process.GetName()</th>
            <th>@QuestionCategory.PeerReview.GetName()</th>
            <th>@QuestionCategory.Valuation.GetName()</th>
            <th>@Strings.Action</th>
        </tr>
    </thead>
    <tbody id="@this.Model.Id-scorecards">
        @{ this.Html.RenderPartial("ScoresRows", this.Model); }
    </tbody>
    <tfoot id="@this.Model.Id-loadMoreScoreCards">
        @if (this.Model.ScoreCards.HasNextPage)
        {
            <tr>
                <td colspan="9">
                    @this.Ajax.ActionLink(Strings.LoadMore, "Scores", new { this.Model.Id, Page = this.Model.Page + 1 }, new AjaxOptions
                                                                                                                         {
                                                                                                                             UpdateTargetId = this.Model.Id + "-scorecards",
                                                                                                                             InsertionMode = InsertionMode.InsertAfter,
                                                                                                                             OnSuccess = string.Format("afterLoadMore(data, '{0}-loadMoreScoreCards', '{0}-loadMoreScoreCardsLink')", this.Model.Id)
                                                                                                                         }, new { id = this.Model.Id + "-loadMoreScoreCardsLink" })
                </td>
            </tr>
        }
    </tfoot>
</table>

<p>
    @Html.Raw(string.Format(ViewStrings.Journals_Scores_OnlyMembersPublish, Url.Action("Faq", "Home") + "#framing"))
</p>